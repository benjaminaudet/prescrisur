<flash-message duration="4000" show-close="true"></flash-message>

<!-- Jumbotron -->
<div class="jumbotron">
	<h1>Aide à la Prescription en un clic!</h1>
	<p class="lead">
		4 entrées pour accéder à l'information (voir le <a ui-sref="pages.read({id: 'mode-d-emploi'})">manuel d'utilisation</a>)
	</p>
	<div id="search-buttons" class="form-group">
		<div class="btn-group btn-group-justified" data-toggle="buttons">
			<label class="btn btn-primary btn-xs-text" ng-model="searchType" uib-btn-radio="'pathologies'">
				Pathologies
			</label>
			<label class="btn btn-primary btn-xm-text" ng-model="searchType" uib-btn-radio="'specialities'">
				Médicaments <small>(source ANSM)</small>
			</label>
			<label class="btn btn-primary btn-xl-text" ng-model="searchType" uib-btn-radio="'classes'">
				Classes Pharmaco-Thérapeutiques
			</label>
			<label class="btn btn-primary btn-xs-text" ng-model="searchType" uib-btn-radio="'substances'">
				Substances
			</label>
		</div>
	</div>
	<div class="form-group">
		<ui-select ng-model="selected.value" on-select="goTo($select)">
			<ui-select-match placeholder="Rechercher...">
				<span ng-bind="$select.selected.name"></span>
			</ui-select-match>
			<ui-select-choices ui-disable-choice="!r._id" refresh="search($select)" refresh-delay="100" repeat="r in results | limitTo: 200">
				{{ r.name }}
				<span class="spec-status" ng-if="r.status">{{ r.status }}</span>
				<span class="pathology" ng-if="r.pathology">({{ r.pathology.name }})</span>
			</ui-select-choices>
		</ui-select>
	</div>
	<!--<button class="btn btn-lg btn-primary" ng-click="" role="button">Rechercher</button>-->
</div>

<!-- Example row of columns -->
<div class="row" id="home-info">
	<div class="col-md-7" id="home-news">
		<h2>PrescriNews</h2>
		<ul>
			<li ng-repeat="n in news | orderBy: '-created_at' | limitTo: 5">
				<a ui-sref="news.read({id: n._id})">{{ n.name }}</a>
				<small class="info">par {{ n.author.name }} - {{ n.created_at | date:"dd/MM/yyyy" }}</small>
			</li>
		</ul>
	</div>
	<div class="col-md-5">
		<h2>Dernières Mises à Jour</h2>
		<ul>
			<li ng-repeat="patho in pathologies | orderBy: '-updated_at' | limitTo: 5">
				<a ui-sref="pathologies.read({id: patho._id})">{{ patho.name }}</a>
				<small>- {{ patho.updated_at | date:"dd/MM/yyyy" }}</small>
			</li>
		</ul>
	</div>
</div>