<div class="row" id="page-header">
	<h1>Connexion</h1>
</div>

<div id="content" class="row caduceus">
	<div ng-if="currentUser" class="alert alert-danger">Vous êtes déjà connecté avec {{ currentUser.name }} ! Redirection...</div>

	<div ng-if="needLogin" class="alert alert-danger">Vous devez vous connecter pour accéder à cette page !</div>

	<form ng-if="!currentUser" id="login-form" class="form" ng-submit="login()">
		<div ng-if="error" class="alert alert-danger">
			{{ error }}
			<a ng-if="confirmAgain" ng-click="sendConfirmation()">Renvoyer un mail de confirmation</a>
		</div>

		<div ng-if="confirmSent" class="alert alert-danger">
			Un mail vient de vous êtes envoyé. Confirmez votre adresse email : {{ loginForm.email }}, puis <a ui-sref="login">Connectez-vous</a>
		</div>

		<div class="form-group">
			<label for="login-email" class="control-label col-md-4">Email</label>
			<div class="col-md-8">
				<input type="email" id="login-email" class="form-control" ng-model="loginForm.email" placeholder="Email" required/>
			</div>
		</div>
		<div class="form-group">
			<label for="login-passwd" class="control-label col-md-4">Mot de Passe</label>
			<div class="col-md-8">
				<input type="password" id="login-passwd" class="form-control" ng-model="loginForm.passwd" placeholder="Mot de Passe" required/>
			</div>
		</div>
		<div class="submit">
			<button type="submit" class="btn btn-primary btn-lg" ng-disabled="disabled">Valider</button>
		</div>
		<div id="register-link">
			Pas encore inscrit ? <a ui-sref="register">Inscription en 2 clics !</a>
		</div>
	</form>
</div>