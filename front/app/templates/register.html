<div class="row" id="page-header">
	<h1>Inscription</h1>
</div>

<div id="content" class="row caduceus">
	<div ng-if="currentUser" class="alert alert-danger">Vous êtes déjà connecté avec {{ currentUser.name }} ! Redirection...</div>

	<div ng-if="registered">
		<div class="alert alert-success">Inscription effectuée ! Un mail vient de vous êtes envoyé. Confirmez votre adresse email : {{ registerForm.email }}, puis <a ui-sref="login">Connectez-vous</a></div>
	</div>

	<div ng-if="!currentUser && !registered">
		<div ng-if="error" class="alert alert-danger">
			{{ error }}
		</div>

		<div id="register-form">
			<div class="text" ng-bind-html="text.text"></div>

			<form class="form form-horizontal" ng-submit="register()">
				<div class="form-group">
					<label for="register-name" class="control-label col-md-3">Nom d'Utilisateur</label>
					<div class="col-md-9">
						<input type="text" id="register-name" class="form-control" ng-model="registerForm.name" placeholder="Nom d'Utilisateur" required/>
					</div>
				</div>
				<div class="form-group">
					<label for="register-email" class="control-label col-md-3">Email</label>
					<div class="col-md-9">
						<input type="email" id="register-email" class="form-control" ng-model="registerForm.email" placeholder="Email" required/>
					</div>
				</div>
				<div class="form-group">
					<label for="register-passwd" class="control-label col-md-3">Mot de Passe</label>
					<div class="col-md-9">
						<input type="password" id="register-passwd" class="form-control" ng-model="registerForm.passwd"
						       ng-change="checkPassword()" placeholder="Mot de Passe" required/>
					</div>
				</div>
				<div class="form-group">
					<label for="register-passwd" class="control-label col-md-3">Confirmation</label>
					<div class="col-md-9">
						<input type="password" id="register-confirm-passwd" class="form-control" ng-model="registerForm.confirmPasswd"
						       ng-change="checkPassword()" ng-class="{invalid:badConfirmPasswd}" placeholder="Confirmation" required/>
						<small class="red" ng-show="badConfirmPasswd">Confirmation erronée</small>
					</div>
				</div>
				<div class="submit">
					<button type="submit" class="btn btn-primary btn-lg" ng-disabled="disabled">S'inscrire</button>
				</div>
			</form>
		</div>
	</div>
</div>