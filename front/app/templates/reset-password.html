<div class="row" id="page-header">
	<h1>Réinitialisation du mot de passe</h1>
</div>

<div id="content" class="row caduceus">
	<form ng-if="resetConfirmed" id="reset-form" class="form" ng-submit="resetPassword()">
		<div ng-if="success">
			<div class="alert alert-success">Votre mot de passe a bien été changé ! Redirection...</div>
		</div>

		<div class="form-group">
			<label for="reset-passwd" class="control-label col-md-3">Mot de Passe</label>
			<div class="col-md-9">
				<input type="password" id="reset-passwd" class="form-control" ng-model="resetForm.passwd"
				       ng-change="checkPassword()" placeholder="Mot de Passe" required/>
			</div>
		</div>
		<div class="form-group">
			<label for="reset-passwd" class="control-label col-md-3">Confirmation</label>
			<div class="col-md-9">
				<input type="password" id="reset-confirm-passwd" class="form-control" ng-model="resetForm.confirmPasswd"
				       ng-change="checkPassword()" ng-class="{invalid:badConfirmPasswd}" placeholder="Confirmation" required/>
				<small class="red" ng-show="badConfirmPasswd">Confirmation erronée</small>
			</div>
		</div>
		<button type="submit" class="btn btn-primary" ng-disabled="disabled">Valider</button>
	</form>

	<form ng-if="!resetConfirmed" id="reset-send-form" class="form" ng-submit="sendReset()">
		<div ng-if="sent">
			<div class="alert alert-success">Un mail vient de vous êtes envoyé à {{ email }}. Suivez le lien pour réinitialiser votre mot de passe.</div>
		</div>
		<div ng-if="tokenError">
			<div class="alert alert-danger">Le code de confirmation est erroné. Merci de recommencer.</div>
		</div>

		<div class="form-group">
			<div class="input-group">
				<input type="email" id="email" class="form-control" ng-model="resetForm.email" placeholder="Email" required/>
				<div class="input-group-btn">
					<button type="submit" class="btn btn-primary" ng-disabled="disabled">Valider</button>
				</div>
			</div>
		</div>
	</form>
</div>